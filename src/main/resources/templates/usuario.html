<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

<title>Usuario</title>
<link rel="shortcut icon" type="image/x-icon" th:href="@{/imagenes/icons/icon.ico}"></link>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<link
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css"></link>

<script
	src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script type="text/javascript" th:src="@{/js/asesor.js}"></script>
	<link rel="shortcut icon" type="image/x-icon" th:href="@{/imagenes/icons/icon.ico}">
</head>
<body>
<script type="text/javascript">
function cambioOpciones()
{ 
    var element = document.getElementById('content');
    var showId = document.getElementById('autoridad').value;
    document.getElementById('showId').value = showId;
    if (showId=="ROLE_ESTUDIANTE") {
        element.style.display='block';
    }
    else {
        element.style.display='none';
    }

}
</script>
	<div th:replace="fragments/header :: header"></div>
	<div class="container">
		<form th:action="@{/usuario/registrar1}" method="post"
			th:object="${usuario}">
			<div class="form-group">
				<label for="id">ID:</label> 
				<input type="text" th:field="*{id}"></input>
				
				<div class="form-group">
				<label for="dni">DNI:</label> 
				<input type="text"	th:field="*{dni}"
				class="form-control" id="dni" maxlength="10"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('dni')}"
				th:errors="*{dni}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="username">Código (username):</label> 
				<input type="text"	th:field="*{username}"
				class="form-control" id="username" maxlength="10"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('username')}"
				th:errors="*{username}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="nombre">Nombres:</label> 
				<input type="text"	th:field="*{nombre}"
				class="form-control" id="nombre"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('nombre')}"
				th:errors="*{nombre}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="apellido">Apellidos:</label> 
				<input type="text"	th:field="*{apellido}"
				class="form-control" id="apellido"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('apellido')}"
				th:errors="*{apellido}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="email">E-mail:</label> 
				<input type="text"	th:field="*{email}"
				class="form-control" id="email"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('email')}"
				th:errors="*{email}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="password">Password:</label> 
				<input type="password"	th:field="*{password}"
				class="form-control" id="password"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('password')}"
				th:errors="*{password}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="confirmPassword">Confirmar Password:</label> 
				<input type="password"	th:field="*{confirmPassword}"
				class="form-control" id="confirmPassword"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('confirmPassword')}"
				th:errors="*{confirmPassword}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="telefono">Teléfono:</label> 
				<input type="text"	th:field="*{telefono}"
				class="form-control" id="telefono"></input>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('telefono')}"
				th:errors="*{telefono}"></div>
				
				</div>
				
				<div class="form-group">
				<label for="grado">Grado:</label> 
				<select class="form-control" th:field="*{grado}" id="grado">
					<option th:value="Egresado" th:text="Egresado"/>
					<option th:value="Bachiller" th:text="Bachiller"/>
					<option th:value="Titulado" th:text="Titulado"/>
					<option th:value="Maestria" th:text="Maestria"/>
					<option th:value="Doctorado" th:text="Doctorado"/> 		 
				</select>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('grado')}"
				th:errors="*{grado}"></div>
				</div>				
				
				
				<div class="form-group">
				<label for="habilitado">Habilitado:</label> 
				<select class="form-control" th:field="*{enable}" id="enable">
					<option th:value="true" th:text="Habilitado"/>
					<option th:value="false" th:text="Deshabilitado"/>
				</select>
				<div class="alert alert-danger" 
				th:if="${#fields.hasErrors('enable')}"
				th:errors="*{enable}"></div>
				</div>
				
				<div class="form-group">
				<label for="autoridad">Rol:</label> 
				<select class="form-control" th:field="*{autoridad}" id="autoridad" name="autoridad" onchange='cambioOpciones();'>
					<option th:value="ROLE_ADMIN" th:text="ROLE_ADMIN"/>
					<option th:value="ROLE_ESTUDIANTE" th:text="ROLE_ESTUDIANTE"/>
					<option th:value="ROLE_ASESOR" th:text="ROLE_ASESOR"/>
					<option th:value="ROLE_JUEZ" th:text="ROLE_JUEZ"/>
					<option th:value="ROLE_JUEZ" th:text="ROLE_MIXTO"/>
				</select>
				</div>
				
				
				<input type="hidden"  name="showId"  id='showId' value="" />
				<div id="content" style="display: none;">
				<div class="form-group">
				<label for="cicloIngreso">Ciclo de ingreso:</label> 
				<select class="form-control" th:field="*{cicloIngreso}" id="cicloIngreso" name="cicloIngreso">
					<option th:each="ciclo :${ciclos}" th:value="${ciclo}" th:text="${ciclo}"/>		 
				</select>
				</div>
				
				<div class="form-group">
				<label for="cicloEgreso">Ciclo de Egreso:</label> 
				<select class="form-control" th:field="*{cicloEgreso}" id="cicloEgreso" name="cicloEgreso">
					<option th:each="ciclo :${ciclos}" th:value="${ciclo}" th:text="${ciclo}"/>		 
				</select>				
				</div>
				</div>
				
			</div>
			<button type ="submit" class="btn btn-primary">Aceptar</button>
			<a href="/usuario/lista" class="btn btn-danger">Cancelar</a>
		</form>
	</div>
	<div th:replace="fragments/footer :: footer"></div>
</body>
</html>